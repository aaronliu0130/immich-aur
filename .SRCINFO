pkgbase = immich
	pkgdesc = Self-hosted photos and videos backup tool
	pkgver = 1.125.5
	pkgrel = 1
	url = https://github.com/immich-app/immich
	arch = x86_64
	license = MIT
	makedepends = git
	makedepends = npm
	makedepends = jq
	makedepends = python-poetry
	makedepends = ts-node
	depends = redis
	depends = postgresql
	depends = nodejs>=20
	depends = python312
	depends = pgvecto.rs<0.4.0
	depends = zlib
	depends = glib2
	depends = expat
	depends = librsvg
	depends = libexif
	depends = libwebp
	depends = libjpeg-turbo
	depends = libgsf
	depends = libpng
	depends = libheif
	depends = lcms2
	depends = mimalloc
	depends = openjpeg2
	depends = openexr
	depends = liblqr
	depends = libtool
	depends = jellyfin-ffmpeg
	depends = libvips>=8.14.3
	depends = openslide
	depends = poppler-glib
	depends = imagemagick
	depends = brotli
	depends = perl-io-compress-brotli
	depends = libraw
	depends = libde265
	depends = dav1d
	depends = highway
	source = immich-1.125.5.tar.gz::https://github.com/immich-app/immich/archive/refs/tags/v1.125.5.tar.gz
	source = base-images::git+https://github.com/immich-app/base-images
	source = immich-server.service
	source = immich-machine-learning.service
	source = immich.sysusers
	source = immich.tmpfiles
	source = immich.conf
	source = nginx.immich.conf
	source = https://download.geonames.org/export/dump/cities500.zip
	source = https://download.geonames.org/export/dump/admin1CodesASCII.txt
	source = https://download.geonames.org/export/dump/admin2Codes.txt
	source = https://raw.githubusercontent.com/nvkelso/natural-earth-vector/v5.1.2/geojson/ne_10m_admin_0_countries.geojson
	sha256sums = ba04d40e15691d9f7df2e8afbb01d57751fe3e296df50f978ffdbe14a1589104
	sha256sums = SKIP
	sha256sums = 48ba0c1716e4459322f878775bd37d9f8efe80b9c8a830bdb901ee4cba15a402
	sha256sums = 637e886cfb5a47834560b00158affe1e218a84e3f825d28d2640c10d2d597ef1
	sha256sums = 01707746e8718fe169b729b7b3d9e26e870bf2dbc4d1f6cdc7ed7d3839e92c0e
	sha256sums = 4ae8a73ccbef568b7841dbdfe9b9d8a76fa78db00051317b6313a6a50a66c900
	sha256sums = 077b85d692df4625300a785eed1efdc7af8fbb8e05dfa8c7d8b4053c1eb76a58
	sha256sums = 28081014a8c410010df22e979c49c3af4a49815e2c6e4ee6090206e2381a56c6
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP

pkgname = immich-server
	install = immich-server.install
	depends = redis
	depends = postgresql
	depends = nodejs>=20
	depends = python312
	depends = pgvecto.rs<0.4.0
	depends = zlib
	depends = glib2
	depends = expat
	depends = librsvg
	depends = libexif
	depends = libwebp
	depends = libjpeg-turbo
	depends = libgsf
	depends = libpng
	depends = libheif
	depends = lcms2
	depends = mimalloc
	depends = openjpeg2
	depends = openexr
	depends = liblqr
	depends = libtool
	depends = jellyfin-ffmpeg
	depends = libvips>=8.14.3
	depends = openslide
	depends = poppler-glib
	depends = imagemagick
	depends = libraw
	depends = libde265
	depends = dav1d
	depends = brotli
	depends = perl-io-compress-brotli
	depends = highway
	optdepends = libva-mesa-driver: GPU acceleration
	optdepends = mesa-utils: GPU acceleration
	optdepends = vulkan-driver: Vulkan support
	optdepends = nginx: Reverse proxy
	optdepends = intel-compute-runtime: OpenCL support
	optdepends = intel-media-driver: HW acceleration
	conflicts = immich
	replaces = immich
	options = !strip
	backup = etc/immich.conf

pkgname = immich-cli
	depends = nodejs>=20
